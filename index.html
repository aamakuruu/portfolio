<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMAR MAKRUF | Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
		*, *:before, *:after {
			box-sizing: border-box !important;
		}
        body { 
            background-color: #1a1a1a; 
            color: #ffffff; 
            font-family: 'Montserrat', sans-serif; 
            margin: 0; 
            padding: 0; 
            scroll-behavior: smooth;
            scrollbar-gutter: stable;
        }

        /* HEADER SECTION */
        header {
            background-color: #ffffff;
            width: 100%;
            padding: 60px 0 20px 0;
            text-align: center;
        }

        header h1 { 
            color: #000000; 
            margin: 0; 
            font-size: 2rem; 
            font-weight: 900; 
            letter-spacing: 6px;
            text-transform: uppercase;
        }

		/* STICKY NAV */
		nav {
			background-color: #ffffff;
			width: 100%;
			padding: 15px 0;
			display: flex;
			flex-wrap: wrap !important; /* THIS FORCES IT TO WRAP ON PHONES */
			justify-content: center; /* Keeps the middle buttons perfectly centered */
			align-items: center; /* THE FIX: changed from 'stretch' to 'center' */
			position: sticky;
			top: 0;
			z-index: 1000;
			box-shadow: 0 6px 10px -5px rgba(0,0,0,0.3); 
			border-bottom: 3px solid #1a1a1a; 
		}
		.nav-center-group {
			display: flex;
			gap: 15px;
			justify-content: center;
		}

        nav a, .dropdown-trigger {
            color: #ff3b4e; 
            text-decoration: none;
            font-weight: 900;
            font-size: 0.75rem;
            letter-spacing: 2px;
            padding: 10px 20px;
            border: 2px solid #1a1a1a;
            border-radius: 4px;
            background: #ffffff;
            display: flex;
            align-items: center;
            transition: background-color 0.2s, color 0.2s;
            cursor: pointer;
			white-space: nowrap !important; /* STOPS TEXT FROM SPLITTING */
        }

        nav a:hover, .dropdown:hover .dropdown-trigger {
            background-color: #1a1a1a;
            color: #ff3b4e;
        }

		/* RESUME CTA BUTTON (Far Left, Red to Black) */
		.resume-cta {
			background-color: #ff3b4e !important;
			color: #ffffff !important;
			border: 2px solid #ff3b4e !important;
		}
		.resume-cta:hover {
			background-color: #000000 !important;
			color: #ff3b4e !important;
			border-color: #000000 !important;
		}

        /* DROPDOWN SYSTEM */
        .dropdown {
            position: relative;
            display: flex;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #ffffff;
            min-width: 180px;
            box-shadow: 0px 8px 16px rgba(0,0,0,0.2);
            z-index: 1001;
            border: 2px solid #1a1a1a;
            top: 100%;
            left: 0;
            margin-top: -2px; 
            border-radius: 0 0 4px 4px;
        }

        .dropdown:hover .dropdown-content { display: block; }

        .dropdown-content a {
            color: #ff3b4e;
            padding: 12px 16px;
            display: block;
            border: none;
            border-radius: 0;
            text-align: left;
            width: 100%;
            box-sizing: border-box;
        }

        /* CONTENT WRAPPER */
        .wrapper {
            max-width: 1000px;
            margin: 80px auto; 
            padding: 0 20px;
        }

        h2 {
            font-weight: 900;
            text-transform: uppercase;
            font-size: 1.8rem;
            margin-top: 80px;
            letter-spacing: 1px;
        }

        h2[id] { scroll-margin-top: 110px; }

        /* GALLERY SYSTEMS */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: 25px;
            margin-top: 20px;
        }

        .gallery img {
            width: 100%;
            height: 450px; 
            object-fit: cover;
			image-rendering: pixelated; 
			image-rendering: crisp-edges; 
            border-radius: 4px;
            background: #333;
			cursor: pointer;
            transition: opacity 0.3s;
        }

		.game-gallery {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
			gap: 15px; 
			margin-top: 20px;
		}
		
		.level-gallery {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(360px, 1fr)); 
			gap: 15px; 
			margin-top: 20px;
		}

		/* GALLERY CARD WRAPPER */
		.gallery-card {
			display: flex;
			flex-direction: column;
			gap: 8px; 
		}

		.gallery-card img, .game-gallery > img {
			width: 100%;
			height: 200px; 
			object-fit: cover;
			image-rendering: pixelated;
			image-rendering: crisp-edges;
			border-radius: 4px;
			cursor: pointer;
			transition: opacity 0.3s;
		}

        .gallery img:hover { opacity: 0.8; }
        .gallery-card img:hover, .game-gallery > img:hover { opacity: 0.8; }

		/* GAMES SECTION */
		.games-video {
			display: grid;
			grid-template-columns: 1fr 1fr; 
			gap: 20px;
			margin-top: 20px;
		}

		.video-container {
			position: relative;
			width: 100%;
			aspect-ratio: 16/9;
			background: #000;
			border-radius: 4px;
			overflow: hidden;
			border: 1px solid #333;
            cursor: pointer;
		}
		
		.video-container::after {
			content: '▶';
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			background: rgba(255, 59, 78, 0.8); 
			color: white;
			width: 50px;
			height: 50px;
			line-height: 50px;
			text-align: center;
			border-radius: 50%;
			font-size: 20px;
			pointer-events: none;
			transition: all 0.3s ease;
			opacity: 1;
			z-index: 6;
		}
		.video-container:hover::after { opacity: 0; transform: translate(-50%, -50%) scale(1.2); }
		

        /* BASE LIGHTBOX (Perfectly Centered & Cursor Fix) */
        #lightbox {
			display: none;
			position: fixed;
			z-index: 2000;
			top: 0; left: 0;
			width: 100%; height: 100%;
			box-sizing: border-box;
			background: rgba(0, 0, 0, 0.9); 
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			justify-content: center;
			align-items: center; /* True Mathematical Center */
			overflow: hidden;
            cursor: zoom-out;
			touch-action: none; /* KILLS mobile background scrolling */
        }
		
		.lightbox-container {
			position: relative;
			display: flex;
			justify-content: center;
			align-items: center;
			transform-origin: center center;
            margin-top: 0 !important; 
            margin-bottom: 5vh; /* Optical Nudge UP */
            transition: padding-top 0.3s ease;
		}

		#lightbox img {
			width: auto;
			max-width: 90vw;
			max-height: 90vh;
			object-fit: contain;
			image-rendering: pixelated;
		}
		#lightbox video {
			width: auto;
			max-width: 90vw;
			max-height: 90vh;
			object-fit: contain;
			image-rendering: pixelated;
		}
		#lightbox img.pixel-upscale {
			min-width: 60vw; 
			max-height: 60vh; 
			image-rendering: pixelated; 
			image-rendering: crisp-edges;
		}

		#lightbox video.pixel-upscale {
			width: auto;
			max-width: 90vw;
			height: 60vh;
			object-fit: contain;
			image-rendering: pixelated; 
			display: block;
			margin: auto;
		}

        footer { text-align: center; padding: 40px 0; opacity: 0.4; font-size: 0.75rem; }

		#jumpToTop {
			display: none; 
			position: fixed;
			bottom: 30px;
			right: 30px;
			z-index: 3000;
			background-color: #1a1a1a;
			color: #ff3b4e;
			border: 2px solid #ff3b4e;
			padding: 15px 20px;
			font-weight: 900;
			font-size: 0.7rem;
			letter-spacing: 1px;
			border-radius: 4px;
			cursor: pointer;
			text-transform: uppercase;
			transition: all 0.2s;
			-webkit-transform: translateZ(0);
		}
		#jumpToTop:hover { background-color: #ff3b4e; color: #1a1a1a; }
		
		.image-box {
			width: 100%;
			height: 200px; 
			overflow: hidden; 
			display: flex;
			justify-content: center;
			align-items: center;
			background: #222; 
		}

		.image-box img {
			width: 100%;
			height: 100%;
			overflow: hidden;
			object-fit: cover; 
			transition: transform 0.3s ease; 
            cursor: pointer;
		}

		/* CAPTION STYLES */
		.design-caption {
			background: rgba(0, 0, 0, 0.85);

			font-size: 0.8rem;
			margin: 0;
			color: #cccccc;
			line-height: 1.4;
			border-left: 2px solid #ff3b4e;
			padding-left: 10px;
			top: 10px;
			margin-top: -34px !important; /* Pulls the text upward */
			z-index: 5
		}

		.lightbox-caption {
            position: fixed;
            bottom: 14vh;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.85);
            color: #ffffff;
            padding: 12px 24px;
            font-weight: 700;
            font-size: 1rem;
            z-index: 3001;
            text-align: center;
			width: 100vw;
            pointer-events: none;
			backdrop-filter: blur(5px); 
			border-bottom: 100px solid rgba(0, 0, 0, 0.1);
		}
		/* Forces the spawned video to stay inside its specific box */
		.video-preview-container {
			position: relative !important; 
		}
		
		/* Ensure Sprites use COVER */
		.image-box img, 
		.image-box video {
			object-fit: cover !important;
		}

		/* Ensure Animations/Trailers use CONTAIN */
		.video-container img, 
		.video-container video {
			object-fit: contain !important;
			background-color: #000;
		}
		
		.nav-logo {
			position: absolute; 
			
			/* THE FIX: Exact Level Coordinates */
			left: 40px; /* Anchor it to the left wall */
			top: 50%; /* Push it 50% down */
			transform: translateY(-50%); /* Pull it up by half its own height for true center */
			z-index: 1001; /* Force it to render ON TOP of the nav background */
			
			border: none !important;
			font-weight: 900 !important;
			font-size: 0.9rem !important;
			letter-spacing: 2px !important;
			color: #000000 !important; 
			
			/* Smooth transition for the 'pop-in' effect */
			opacity: 0;
			visibility: hidden;
			transition: opacity 0.2s ease, visibility 0.2s ease;
			cursor: pointer;
		}

		/* This class gets added by JS when scrolling down */
		.nav-logo.visible {
			opacity: 1;
			visibility: visible;
		}

		.nav-logo:hover {
			background: transparent !important;
			color: #ff3b4e !important;
		}
		
		
		.close-lightbox {
			position: fixed; 
			
			bottom: 20vh; 
			right: 20vw;  
			left: auto;   
			transform: none; 
			
			color: #ffffff; 
			opacity: 0.2;
			font-size: 14px; 
			font-family: 'Montserrat', sans-serif;
			font-weight: 700;
			letter-spacing: 1px;
			text-transform: uppercase;
			
			background: rgba(0,0,0,0.5); 
			padding: 10px 20px; 
			cursor: pointer;
			z-index: 3005; 

		}

		.close-lightbox:hover {
			background: #ff3b4e;
			color: #ffffff;
			opacity: 1;
		}
		
		
		
		
		.zoom-2x { transform: scale(2); }   
		.zoom-1-5x { transform: scale(1.5); } 
		.zoom-1-2x { transform: scale(1.2); }  
		.zoom-0.5x { transform: scale(0.5); }
		.zoom-0.25x { transform: scale(0.25); }
		.zoom-0.1x { transform: scale(0.1); }
		
        .accent { color: #ff3b4e; text-decoration: none; font-weight: 700; }
		
		
		
		/* UNIFIED MOBILE OVERRIDES */
		@media (max-width: 844px) {
			.wrapper {
				margin: 40px auto !important;
				padding: 0 10px !important;
			}

			/* 1-COLUMN FOR VIDEOS */
			.games-video, .level-gallery {
				grid-template-columns: 1fr !important;
				gap: 15px !important;
			}

			/* FORCED 3-COLUMN "IMAGE COLLAB" LOOK */
			.gallery {
				display: grid !important;
				grid-template-columns: repeat(3, 1fr) !important; 
				gap: 4px !important; 
			}
			.gallery img { height: 300px !important; }

			div.game-gallery {
				grid-template-columns: repeat(5, 1fr) !important; 
				gap: 5px !important;
				align-items: start !important; /* Prevents grid from stretching rows unevenly */
			}
			div.game-gallery > * {
				width: 100% !important;
				height: auto !important;
				aspect-ratio: 1 / 1 !important;
				overflow: hidden !important; /* Hides anything that bleeds out */
				display: block !important;
				margin: 0 !important;
				padding: 0 !important;
			}
			div.game-gallery > * > img,
			div.game-gallery img[src] {
				width: 100% !important;
				height: 100% !important; /* Fills the wrapper's exact height */
				aspect-ratio: auto !important; /* Strips the old rule */
				object-fit: cover !important; 
				display: block !important;
			}


			/* TEXT LEGIBILITY FIX */
			.design-caption {
				font-size: 1rem !important; /* Larger for mobile thumbs */
			}

			/* DISABLE MOUSE-TRACKING OPACITY ON MOBILE */
			.close-lightbox {
				opacity: 0.5 !important; 
				bottom: 10vh !important; /* Pulled up slightly for easier thumb reach */
			}

			/* COMPACT HEADER & NAV */
			header { padding: 30px 0 10px 0; }
			header h1 { font-size: 1.2rem; letter-spacing: 3px; }
			
			.nav-center-group {
				display: flex;
				flex-wrap: wrap; 
				justify-content: center;
				gap: 5px !important;
				padding: 0 10px;
			}

			nav a, .dropdown-trigger {
				padding: 5px 10px !important; 
				font-size: 0.6rem !important; 
				letter-spacing: 1px !important;
				white-space: nowrap; 
			}
			/* COMPACT NAV */
			nav {
				padding: 5px 0 !important;
			}
			.nav-logo { display: none !important; }
			

			/* FORCE CENTER ALIGNMENT ON MOBILE */
			#lightbox {
				align-items: center !important; 
				padding-top: 0 !important;
			}

			/* 1. THE SAFE DEFAULT (For Game Art, Sprites, & Normal Videos) */
			#lightbox-container {
				transform: scale(1) !important;
				width: 100vw;
				height: 100vh; /* Uses natural screen space */
				display: flex;
				justify-content: center;
				align-items: center;
				overflow: visible !important; /* Prevents cropping */
			}

			#lightbox-container img, 
			#lightbox-container video {
				width: auto !important;
				height: auto !important;
				max-width: 95vw !important;
				max-height: 80vh !important; /* Leaves room for the X button */
				object-fit: contain !important; /* SHOWS THE WHOLE FILE */
			}

			/* 2. THE LEVEL-ART ZOOM OVERRIDE (Triggered ONLY when a caption exists) */
			#lightbox.has-caption #lightbox-container {
				height: 40vh !important; /* Your specific controlled height */
				overflow: hidden !important; /* Enables the crop */
			}

			#lightbox.has-caption #lightbox-container video {
				width: 100% !important;
				height: 100% !important;
				max-width: 100vw !important;
				object-fit: cover !important; /* TACTICAL ZOOM ACTIVATED */
			}
			.lightbox-caption {
				position: absolute !important; /* Anchors to the VIDEO, not the screen */
				bottom: 0 !important;          /* Glues perfectly to the bottom of the footage */
				left: 0 !important;
				width: 100% !important;        /* Matches the video width exactly */
				transform: none !important;
				
				background: rgba(0, 0, 0, 0.85);
				color: #ffffff;
				padding: 12px 20px !important;
				font-size: 0.9rem !important;
				font-weight: 700;
				text-align: center;
				z-index: 3001;
				pointer-events: none;
				box-sizing: border-box !important;
				

				min-height: 32% !important; /* Just tall enough to act as a dialogue letterbox */
			}
			#lightbox-close {
				position: fixed !important;
				bottom: 30px !important; /* Thumb reach zone */
				left: 20px !important;   /* Bottom-left anchor */
				right: auto !important;
				top: auto !important;
				width: 100% !important;
				/* THE ANDROID NUKE: Kills the default rectangular tap box */
				-webkit-tap-highlight-color: transparent !important; 
				outline: none !important;
			}
		}
		@media (max-width: 844px) and (orientation: landscape) {
			.wrapper {
				margin: 20px auto !important; /* Reduce vertical wasting */
			}

			/* SWITCH TO 2 COLUMNS (Prevents Infinite Scrolling) */
			.level-gallery, .games-video {
				grid-template-columns: 1fr 1fr !important;
				gap: 15px !important;
			}	
			
			div.game-gallery {
				grid-template-columns: repeat(5, 1fr) !important; 
				gap: 5px !important;
				align-items: start !important; /* Prevents grid from stretching rows unevenly */
			}
			div.game-gallery > * {
				width: 100% !important;
				height: auto !important;
				aspect-ratio: 1 / 1 !important;
				overflow: hidden !important; /* Hides anything that bleeds out */
				display: block !important;
				margin: 0 !important;
				padding: 0 !important;
			}
			div.game-gallery > * > img,
			div.game-gallery img[src] {
				width: 100% !important;
				height: 100% !important; /* Fills the wrapper's exact height */
				aspect-ratio: auto !important; /* Strips the old rule */
				object-fit: cover !important; 
				display: block !important;
			}
			/* SHRINK HEADER TO SAVE SPACE */
			header {
				padding: 15px 0 5px 0 !important;
			}
			header h1 {
				font-size: 1rem !important;
			}

			/* COMPACT NAV */
			nav {
				padding: 5px 0 !important;
			}
			.nav-center-group {
				gap: 5px !important;
			}
			nav a {
				font-size: 0.6rem !important;
				padding: 5px 10px !important;
			}

			/* IMAGE HEIGHT ADJUSTMENT */
			.game-gallery img {
				height: 100px !important; /* Prevent massive images in landscape */
			}
			/* THE SHRINK-WRAP CONTAINER */
			#lightbox-container {
				position: relative !important;
				width: fit-content !important;  /* Shrink-wraps to the exact video width */
				height: fit-content !important; /* Shrink-wraps to the exact video height */
				margin: auto !important;
				display: block !important;
				overflow: hidden !important;    /* Keeps the caption perfectly inside the video bounds */
			}

			#lightbox-container video {
				/* This combination ensures the video shrinks to fit whichever side hits the edge first */
				max-width: 90vw !important;  
				max-height: 80dvh !important; 
				width: auto !important;
				height: auto !important;
				
				object-fit: contain !important;
				transform: none !important;
			}
			.lightbox-caption {
				position: absolute !important; /* Anchors to the VIDEO, not the screen */
				bottom: -40px !important;          /* Glues perfectly to the bottom of the footage */
				left: 0 !important;
				width: 100% !important;        /* Matches the video width exactly */
				transform: none !important;
				
				background: rgba(0, 0, 0, 0.85);
				color: #ffffff;
				padding: 12px 20px !important;
				font-size: 0.9rem !important;
				font-weight: 700;
				text-align: center;
				z-index: 3001;
				pointer-events: none;
				box-sizing: border-box !important;
				
				backdrop-filter: blur(5px); 

			}
			/* FORCE LANDSCAPE TO UN-CROP (Defeating the portrait zoom) */
			#lightbox.has-caption #lightbox-container {
				height: fit-content !important; 
			}

			#lightbox.has-caption #lightbox-container video {
				width: auto !important;
				height: auto !important;
				max-width: 90vw !important;
				max-height: 90dvh !important;
				object-fit: contain !important; /* KILLS THE TACTICAL ZOOM IN LANDSCAPE */
			}
			#lightbox-close {
				position: fixed !important;
				bottom: 30px !important; /* Thumb reach zone */
				left: 20px !important;   /* Bottom-left anchor */
				right: auto !important;
				top: auto !important;
				width: 100% !important;
				/* THE ANDROID NUKE: Kills the default rectangular tap box */
				-webkit-tap-highlight-color: transparent !important; 
				outline: none !important;
			}
			/* DISABLE MOUSE-TRACKING OPACITY ON MOBILE */
			.close-lightbox {
				opacity: 0.5 !important; 
				bottom: 10vh !important; /* Pulled up slightly for easier thumb reach */
			}
			
		}
		
	</style>
</head>
<body>

    <header>
		<h1>AMAR MAKRUF</h1>
	</header>

    <nav>
		<a href="javascript:void(0)" onclick="scrollToTop()" class="nav-logo" id="navLogo">AMAR MAKRUF</a>
		<div class="nav-center-group">
			<a href="CV.pdf" target="_blank" class="resume-cta">RESUME</a>
			<div class="dropdown">
				<div class="dropdown-trigger">GAMES ▾</div>
				<div class="dropdown-content">
					<a href="#games">Gameplay Showcase</a>
					<a href="#level-art">Levels & Environments</a>
				</div>
			</div>        <div class="dropdown">
				<div class="dropdown-trigger">ART ▾</div>
				<div class="dropdown-content">
					<a href="#game-art">Character Sprites</a>
					<a href="#art">Illustration</a>
					<a href="#animation">Animation</a>
				</div>
			</div>
			<a href="#contact">CONTACT</a>
		</div>
    </nav>

    <div class="wrapper">
		<h2 id="games">Gameplay Showcase</h2>
		<div class="games-video"> 
            <div class="video-container">
				<iframe width="100%" height="100%" src="https://www.youtube.com/embed/764jojmIdPM" frameborder="0" allowfullscreen></iframe>
			</div>
			<div class="video-container">
				<iframe width="100%" height="100%" src="https://www.youtube.com/embed/764jojmIdPM" frameborder="0" allowfullscreen></iframe>
			</div>

            <div class="video-container video-preview-container" data-video-src="game-art/MoM.webm" onclick="openLightbox(this.dataset.videoSrc)">
                <img src="game-art/MoM.png" loading="lazy" style="width:100%; height:100%; object-fit:cover; display:block;">
			</div>
		</div>

		<h2 id="level-art">Levels & Environments</h2>
			<h3 style="letter-spacing: 4px; font-size: 1.2rem; color: #ff3b4e; margin-bottom: -30px;">PROJECT: SPARE 'EM UP</h3>
			<div class="level-gallery">
				</div>
			<div class="level-gallery">
			<div class="gallery-card">
				<div class="video-container video-preview-container" 
					 data-caption="Introduce basic enemies." 
					 data-video-src="screenshot/spare/0.mp4" 
					 onclick="openLightbox(this.dataset.videoSrc, this.dataset.zoom, this.dataset.caption)">					 
					<img src="screenshot/spare/0.png" loading="lazy" style="width:100%; height:100%; object-fit:contain; display:block;">
				</div>
				<p class="design-caption">Beginning level.</p>
			</div>
			<div class="gallery-card">
				<div class="video-container video-preview-container" 
					 data-caption="Red enemies, can be SPARED instantly." 
					 data-video-src="screenshot/spare/1.mp4" 
					 onclick="openLightbox(this.dataset.videoSrc, this.dataset.zoom, this.dataset.caption)">
					<img src="screenshot/spare/1.png" loading="lazy" style="width:100%; height:100%; object-fit:contain; display:block;">
				</div>
				<p class="design-caption">New enemy type.</p>
			</div>
			<div class="gallery-card">
				<div class="video-container video-preview-container" 
					 data-caption="Introduce collectibles to the player." 
					 data-video-src="screenshot/spare/2.mp4" 
					 onclick="openLightbox(this.dataset.videoSrc, this.dataset.zoom, this.dataset.caption)">
					<img src="screenshot/spare/2.png" loading="lazy" style="width:100%; height:100%; object-fit:contain; display:block;">
				</div>
				<p class="design-caption">Collectibles.</p>
			</div>
			<div class="gallery-card">
				<div class="video-container video-preview-container" 
					 data-caption="Speed up the background.&#10Add stronger enemies." 
					 data-video-src="screenshot/spare/3.mp4" 
					 onclick="openLightbox(this.dataset.videoSrc, this.dataset.zoom, this.dataset.caption)">
					<img src="screenshot/spare/3.png" loading="lazy" style="width:100%; height:100%; object-fit:contain; display:block;">
				</div>
				<p class="design-caption">Amp up the pace.</p>
			</div>
			<div class="gallery-card">
				<div class="video-container video-preview-container" 
					 data-caption="Add some variation.&#10Make the player stop holding the fire button by adding the collectibles." 
					 data-video-src="screenshot/spare/4.mp4" 
					 onclick="openLightbox(this.dataset.videoSrc, this.dataset.zoom, this.dataset.caption)">
					<img src="screenshot/spare/4.png" loading="lazy" style="width:100%; height:100%; object-fit:contain; display:block;">
				</div>
				<p class="design-caption">Mid-fight collectibles.</p>
			</div>
			<div class="gallery-card">
				<img src="game-art/cave end.png" data-caption="The light implies an exit route." loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom, this.dataset.caption)">
				<p class="design-caption">End cave.</p>
			</div>
            <div class="gallery-card">
				<img src="game-art/deltafuribg.png" data-caption="RIIIGHT." loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom, this.dataset.caption)">
				<p class="design-caption"><strong>RAIIN:</strong></p>
			</div>
            <div class="gallery-card">
				<img src="game-art/buildingsilhrun.png" data-caption="before the destruction." loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom, this.dataset.caption)">
				<p class="design-caption">Building intact.</p>
			</div>
            <div class="gallery-card">
				<img src="game-art/spinelbg.png" data-caption="EPIC" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom, this.dataset.caption)">
				<p class="design-caption">JUST LIKE THE SHOW.</p>
			</div>
            <div class="gallery-card">
				<img src="game-art/hkbg.png" data-caption="LITERALLY" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom, this.dataset.caption)">
				<p class="design-caption"><strong>JUST LIKE THE GAME</strong></p>
			</div>
            <div class="gallery-card">
				<img src="game-art/vskrisbg.png" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom, this.dataset.caption)">
			</div>
        </div>

		<h2 id="game-art">Character Sprites</h2>
        <div class="game-gallery">
			<div class="image-box">
				<img src="game-art/circle no logo.png" data-zoom="1.5" class="zoom-2x" style="transform-origin: 60% 50%;" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)"> 
            </div>
			<div class="image-box">
				<img src="game-art/zoharfaces.png" data-zoom="1.5" class="zoom-0.25x" style="transform-origin: 50% 50%;" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)"> 
            </div>
			<div class="image-box">
			    <img src="game-art/karma_special.png" data-zoom="0.5" class="zoom-0.1x" onmouseover="this.src='game-art/karma_special.gif#' + Math.random();" onmouseout="this.src='game-art/karma_special.png'" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)"> 
            </div>
			<div class="image-box">
			    <img src="game-art/echo_idle.png" data-zoom="0.5" class="zoom-0.1x" onmouseover="this.src='game-art/echo_idle.gif#' + Math.random();" onmouseout="this.src='game-art/echo_idle.png'" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)"> 
            </div>

            <div class="video-preview-container image-box" data-video-src="game-art/MoM.webm" onclick="openLightbox(this.dataset.videoSrc)">
                <img src="game-art/MoM.png" loading="lazy" style="width:100%; height:100%; object-fit:cover; display:block;">
            </div>

 			<img src="game-art/Spin.png" onmouseover="this.src='game-art/Spin.gif#' + Math.random();" onmouseout="this.src='game-art/Spin.png'" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
			<img src="game-art/Zohar Fire Down.png" onmouseover="this.src='game-art/Zohar Fire Down.gif#' + Math.random();" onmouseout="this.src='game-art/Zohar Fire Down.png'" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
			<img src="game-art/Zohar Switch Red.png" onmouseover="this.src='game-art/Zohar Switch Red.gif#' + Math.random();" onmouseout="this.src='game-art/Zohar Switch Red.png'" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
			<img src="game-art/Fight Double Slash.png" onmouseover="this.src='game-art/Fight Double Slash.gif#' + Math.random();" onmouseout="this.src='game-art/Fight Double Slash.png'" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
			<img src="game-art/Fight Volley Slash.png" onmouseover="this.src='game-art/Fight Volley Slash.gif#' + Math.random();" onmouseout="this.src='game-art/Fight Volley Slash.png'" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
        </div>

        <h2 id="art">Illustration</h2>
        <div class="gallery">
            <img src="art/skykrill_HD.png" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
            <img src="art/ffxivultima.png" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
            <img src="art/zrdespair.png" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
            <img src="art/dricecreamworld.png" style="object-position: right center" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
            <img src="art/comm0184.png" style="object-position: 70% 50%;" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
            <img src="art/drcrossroad.png" style="object-position: 35% 50%;" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
            <img src="art/drfireworks.png" style="object-position: 15% 50%;" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
            <img src="art/radgunxiga.png" style="object-position: 35% 50%;" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
            <img src="art/rainworldsand.png" style="object-position: 60% 50%;" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
        </div>  

		<h2 id="animation">Animation</h2>
		<div class="games-video"> 
            <div class="video-container video-preview-container" data-video-src="animation/skywebm.mp4" onclick="openLightbox(this.dataset.videoSrc, 1)">
                <img src="animation/skywebm.png" loading="lazy" style="width:100%; height:100%; object-fit:contain; display:block;">
			</div>
			<div class="video-container video-preview-container" data-video-src="animation/peace.mp4" onclick="openLightbox(this.dataset.videoSrc, 0.8)">
                <img src="animation/peace.png" loading="lazy" style="width:100%; height:100%; object-fit:contain; display:block;">
			</div>
			<div class="video-container video-preview-container" data-video-src="animation/choc.mp4" onclick="openLightbox(this.dataset.videoSrc, 0.8)">
                <img src="animation/choc.png" loading="lazy" style="width:100%; height:100%; object-fit:contain; display:block;">
			</div>
			<div class="video-container video-preview-container" data-video-src="animation/wiggle.mp4" onclick="openLightbox(this.dataset.videoSrc, 0.8)">
                <img src="animation/wiggle.png" loading="lazy" style="width:100%; height:100%; object-fit:contain; display:block;">
			</div>
		</div>

        <h2 id="contact">Contact</h2>
        <p>Surabaya, Indonesia | <a href="mailto:aamakuruu@gmail.com" class="accent">aamakuruu@gmail.com</a></p>
        <p>
            <a href="https://aamakuruu.itch.io" class="accent">ITCH.IO</a> | 
            <a href="https://x.com/aamakuruu" class="accent">TWITTER</a> |
            <a href="https://youtube.com/@aamakuruu" class="accent">YOUTUBE</a> 
        </p>

        <footer>© 2026 AMAR MAKRUF // PORTFOLIO</footer>
    </div>

    <div id="lightbox">
		<div id="lightbox-close" class="close-lightbox">CLOSE</div>
        <div id="lightbox-container" class="lightbox-container"></div>
    </div>

    <script>
		function closeLightbox() {
			const lightbox = document.getElementById('lightbox');
            const container = document.getElementById('lightbox-container');
			
			const video = container.querySelector('video');
			if (video) {
				video.pause();
				video.src = ""; 
				video.load();   
			}

			const existingCaption = lightbox.querySelector('.lightbox-caption');
			if (existingCaption) existingCaption.remove();

			document.body.style.overflow = 'auto';
			lightbox.style.display = 'none';
            lightbox.classList.remove('has-caption'); // Reset dynamic layout
			container.innerHTML = ''; 
			handleScroll();
		}

		function openLightbox(src, customZoom, captionText) {
			const closeBtn = document.getElementById('lightbox-close');
			const lightbox = document.getElementById('lightbox');
            const container = document.getElementById('lightbox-container');
			const isVideo = src.endsWith('.webm') || src.endsWith('.mp4');
			
			
			document.body.style.overflow = 'hidden'; 
			container.innerHTML = ''; 
            container.style.transform = 'scale(1)'; 

			const existingCaption = lightbox.querySelector('.lightbox-caption');
			if (existingCaption) existingCaption.remove();
            lightbox.classList.remove('has-caption');

			let content = isVideo ? document.createElement('video') : document.createElement('img');
			/* FORCE GIF RESTART IN LIGHTBOX */
			if (!isVideo && src.toLowerCase().endsWith('.gif')) {
				content.src = src.split('?')[0].split('#')[0] + '?t=' + Date.now();
			} else {
				content.src = src;
			}
			
            if (isVideo) {
				content.autoplay = true;
				content.loop = true;
				content.controls = true;
			}
			
			if (customZoom) { container.style.transform = `scale(${customZoom})`; }
			
			if (captionText) {
				const cap = document.createElement('div');
				cap.className = 'lightbox-caption';
				cap.innerText = captionText;
				lightbox.appendChild(cap); 
                lightbox.classList.add('has-caption'); // Shift layout UP
			}

			if (src.includes('game-art') || src.includes('pixel') || src.includes('skywebm')) {
				content.classList.add('pixel-upscale');
			}

			container.appendChild(content);
			lightbox.style.display = 'flex';
			document.getElementById("jumpToTop").style.display = "none"; 
			
			if (closeBtn) closeBtn.style.opacity = "0.1";
			
		}

		document.getElementById('lightbox').addEventListener('click', function() {
			closeLightbox();
		});

		document.addEventListener('keydown', function(e) {
			if (e.key === "Escape") closeLightbox();
		});

		function handleScroll() {
			const jumpBtn = document.getElementById("jumpToTop");
			const lightbox = document.getElementById('lightbox');
			const scrollPos = window.scrollY || document.documentElement.scrollTop;

			// IF LIGHTBOX IS OPEN, FORCE BUTTON HIDDEN AND EXIT
			if (lightbox && lightbox.style.display === 'flex') {
				jumpBtn.style.display = "none";
				return;
			}

			// NORMAL SCROLL LOGIC
			if (scrollPos > 300) {
				jumpBtn.style.display = "block";
			} else {
				jumpBtn.style.display = "none";
			}
			
			// Logo visibility logic
			const navLogo = document.getElementById('navLogo');
			if (scrollPos > 150) {
				navLogo.classList.add("visible");
			} else {
				navLogo.classList.remove("visible");
			}
		}

		window.addEventListener('scroll', handleScroll);
		window.addEventListener('load', handleScroll);

		function scrollToTop() {
			window.scrollTo({top: 0, behavior: 'auto'});
		}
		
		document.querySelectorAll('.video-preview-container').forEach(container => {
			container.addEventListener('mouseenter', () => {
				const videoSrc = container.getAttribute('data-video-src');
				if(!videoSrc) return;
				
				// Failsafe: Don't spawn multiple videos if hovering wildly
				if (container.querySelector('video')) return; 
				
				const video = document.createElement('video');
				video.src = videoSrc;
				video.muted = true;
				video.loop = true;
				video.playsInline = true;
				video.autoplay = true;
				
				// 1. THE FIX: Spawn the video completely invisible
				video.style.opacity = '0';
				video.style.transition = 'opacity 0.1s ease-in'; // Adds a micro-fade for a buttery transition
				
				video.style.position = 'absolute';
				video.style.top = '0';
				video.style.left = '0';
				video.style.width = '100%';
				video.style.height = '100%';
				video.style.zIndex = '5';
				
				// 2. THE FIX: Wait for the exact moment the first frame is decoded
				video.addEventListener('loadeddata', () => {
					video.style.opacity = '1'; // Reveal it only when it's ready!
				});
				
				container.appendChild(video);
				video.play().catch(() => {});
			});

			container.addEventListener('mouseleave', () => {
				const video = container.querySelector('video');
				if (video) {
					video.pause();
					video.remove(); 
				}
			});
		});
		document.querySelectorAll('.game-gallery img[src$=\".gif\"]').forEach(img => {
			const originalPath = img.src;
			img.addEventListener('mouseenter', function() {
				const tempImg = new Image();
				const newSrc = originalPath + '#' + Date.now();
				tempImg.src = newSrc;
				tempImg.decode().then(() => { this.src = newSrc; }).catch(() => { this.src = newSrc; });
			});
		});
		document.addEventListener('mousemove', (e) => {
			// ABORT IF ON MOBILE - Don't let JS fight the CSS
			if (window.innerWidth <= 768) return;
			const closeBtn = document.getElementById('lightbox-close'); // FIND IT FIRST
			const lightbox = document.getElementById('lightbox');

			if (!lightbox || lightbox.style.display !== 'flex') {
				if (closeBtn) closeBtn.style.opacity = "0.1"; 
				return;
			}

			const mouseX = e.clientX;
			const screenWidth = window.innerWidth;
			const startPoint = screenWidth / 2;
			const targetPoint = screenWidth * 0.8;

			let intensity = (mouseX - startPoint) / (targetPoint - startPoint);
			intensity = Math.max(0.1, Math.min(1.0, intensity));

			closeBtn.style.opacity = intensity;
		});
		window.addEventListener('resize', handleScroll);
    </script>
	<button onclick="scrollToTop()" id="jumpToTop" title="Scroll to top!">Top ▴</button>
</body>
</html>