<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMAR MAKRUF | Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        body { 
            background-color: #1a1a1a; 
            color: #ffffff; 
            font-family: 'Montserrat', sans-serif; 
            margin: 0; 
            padding: 0; 
            scroll-behavior: smooth;
            scrollbar-gutter: stable;
        }

        /* HEADER SECTION */
        header {
            background-color: #ffffff;
            width: 100%;
            padding: 60px 0 20px 0;
            text-align: center;
        }

        header h1 { 
            color: #000000; 
            margin: 0; 
            font-size: 2rem; 
            font-weight: 900; 
            letter-spacing: 6px;
            text-transform: uppercase;
        }

		/* STICKY NAV */
		nav {
			background-color: #ffffff;
			width: 100%;
			padding: 15px 0;
			display: flex;
			gap: 15px;
			justify-content: center;
			align-items: stretch;
			position: sticky;
			top: 0;
			z-index: 1000;
			box-shadow: 0 6px 10px -5px rgba(0,0,0,0.3); 
			border-bottom: 3px solid #1a1a1a; 
		}

        nav a, .dropdown-trigger {
            color: #ff3b4e; 
            text-decoration: none;
            font-weight: 900;
            font-size: 0.75rem;
            letter-spacing: 2px;
            padding: 10px 20px;
            border: 2px solid #1a1a1a;
            border-radius: 4px;
            background: #ffffff;
            display: flex;
            align-items: center;
            transition: background-color 0.2s, color 0.2s;
            cursor: pointer;
        }

        nav a:hover, .dropdown:hover .dropdown-trigger {
            background-color: #1a1a1a;
            color: #ff3b4e;
        }

		/* RESUME CTA BUTTON (Far Left, Red to Black) */
		.resume-cta {
			background-color: #ff3b4e !important;
			color: #ffffff !important;
			border: 2px solid #ff3b4e !important;
		}
		.resume-cta:hover {
			background-color: #000000 !important;
			color: #ff3b4e !important;
			border-color: #000000 !important;
		}

        /* DROPDOWN SYSTEM */
        .dropdown {
            position: relative;
            display: flex;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #ffffff;
            min-width: 180px;
            box-shadow: 0px 8px 16px rgba(0,0,0,0.2);
            z-index: 1001;
            border: 2px solid #1a1a1a;
            top: 100%;
            left: 0;
            margin-top: -2px; 
            border-radius: 0 0 4px 4px;
        }

        .dropdown:hover .dropdown-content { display: block; }

        .dropdown-content a {
            color: #ff3b4e;
            padding: 12px 16px;
            display: block;
            border: none;
            border-radius: 0;
            text-align: left;
            width: 100%;
            box-sizing: border-box;
        }

        /* CONTENT WRAPPER */
        .wrapper {
            max-width: 1000px;
            margin: 80px auto; 
            padding: 0 20px;
        }

        h2 {
            font-weight: 900;
            text-transform: uppercase;
            font-size: 1.8rem;
            margin-top: 80px;
            letter-spacing: 1px;
        }

        h2[id] { scroll-margin-top: 110px; }

        /* GALLERY SYSTEMS */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: 25px;
            margin-top: 20px;
        }

        .gallery img {
            width: 100%;
            height: 450px; 
            object-fit: cover;
			image-rendering: pixelated; 
			image-rendering: crisp-edges; 
            border-radius: 4px;
            background: #333;
			cursor: pointer;
            transition: opacity 0.3s;
        }

		.game-gallery {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
			gap: 15px; 
			margin-top: 20px;
		}

		/* GALLERY CARD WRAPPER */
		.gallery-card {
			display: flex;
			flex-direction: column;
			gap: 8px; 
		}

		.gallery-card img, .game-gallery > img {
			width: 100%;
			height: 200px; 
			object-fit: cover;
			image-rendering: pixelated;
			image-rendering: crisp-edges;
			border-radius: 4px;
			cursor: pointer;
			transition: opacity 0.3s;
		}

        .gallery img:hover { opacity: 0.8; }
        .gallery-card img:hover, .game-gallery > img:hover { opacity: 0.8; }

		/* GAMES SECTION */
		.games-video {
			display: grid;
			grid-template-columns: 1fr 1fr; 
			gap: 20px;
			margin-top: 20px;
		}

		.video-container {
			position: relative;
			width: 100%;
			aspect-ratio: 16/9;
			background: #000;
			border-radius: 4px;
			overflow: hidden;
			border: 1px solid #333;
            cursor: pointer;
		}
		
		.video-overlay-text {
			position: absolute;
			top: 20px;
			left: 20px;
			background: rgba(255, 59, 78, 0.9); 
			color: #1a1a1a;
			padding: 5px 12px;
			font-weight: 900;
			font-size: 0.7rem;
			text-transform: uppercase;
			letter-spacing: 1px;
			z-index: 10;
			pointer-events: none; 
		}
		
		.video-container::after {
			content: '▶';
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			background: rgba(255, 59, 78, 0.8); 
			color: white;
			width: 50px;
			height: 50px;
			line-height: 50px;
			text-align: center;
			border-radius: 50%;
			font-size: 20px;
			pointer-events: none;
			transition: all 0.3s ease;
			opacity: 1;
			z-index: 6;
		}
		.video-container:hover::after { opacity: 0; transform: translate(-50%, -50%) scale(1.2); }
		
		@media (max-width: 768px) { .games-video { grid-template-columns: 1fr; } }

        /* BASE LIGHTBOX (Perfectly Centered & Cursor Fix) */
        #lightbox {
			display: none;
			position: fixed;
			z-index: 2000;
			top: 0; left: 0;
			width: 100%; height: 100%;
			background: rgba(0, 0, 0, 0.9); 
			backdrop-filter: blur(10px);
			-webkit-backdrop-filter: blur(10px);
			justify-content: center;
			align-items: center; /* True Mathematical Center */
			overflow: hidden;
            cursor: zoom-out;
        }
		
		.lightbox-container {
			position: relative;
			display: flex;
			justify-content: center;
			align-items: center;
			transform-origin: center center;
            margin-top: 0 !important; 
            margin-bottom: 5vh; /* Optical Nudge UP */
            transition: padding-top 0.3s ease;
		}

        /* DYNAMIC LIGHTBOX SHIFT (Only when Caption exists) */
        #lightbox.has-caption {
            align-items: flex-start;
            padding-top: 5vh;
        }
        
        #lightbox.has-caption .lightbox-container {
            margin-bottom: 0; 
        }

		.close-lightbox {
			position: fixed; 
			top: 30px;
			right: 40px;
			color: #ff3b4e; 
			font-size: 60px; 
			font-family: 'Montserrat', sans-serif;
			font-weight: 700;
			line-height: 1;
			cursor: pointer;
			z-index: 3000; 
			transition: transform 0.2s ease, opacity 0.2s;
			user-select: none;
		}
        
        .close-lightbox:hover { color: #ffffff; }

		#lightbox img {
			width: auto;
			max-width: 90vw;
			max-height: 90vh;
			object-fit: contain;
			image-rendering: pixelated;
		}

		#lightbox img.pixel-upscale {
			min-width: 60vw; 
			max-height: 60vh; 
			image-rendering: pixelated; 
			image-rendering: crisp-edges;
		}

		#lightbox video.pixel-upscale {
			width: auto;
			max-width: 90vw;
			height: 60vh;
			object-fit: contain;
			image-rendering: pixelated; 
			display: block;
			margin: auto;
		}

        footer { text-align: center; padding: 40px 0; opacity: 0.4; font-size: 0.75rem; }

		#jumpToTop {
			display: none; 
			position: fixed;
			bottom: 30px;
			right: 30px;
			z-index: 3000;
			background-color: #1a1a1a;
			color: #ff3b4e;
			border: 2px solid #ff3b4e;
			padding: 15px 20px;
			font-weight: 900;
			font-size: 0.7rem;
			letter-spacing: 1px;
			border-radius: 4px;
			cursor: pointer;
			text-transform: uppercase;
			transition: all 0.2s;
			-webkit-transform: translateZ(0);
		}
		#jumpToTop:hover { background-color: #ff3b4e; color: #1a1a1a; }
		
		.image-box {
			width: 100%;
			height: 200px; 
			overflow: hidden; 
			display: flex;
			justify-content: center;
			align-items: center;
			background: #222; 
		}

		.image-box img {
			width: 100%;
			height: 100%;
			overflow: hidden;
			object-fit: cover; 
			transition: transform 0.3s ease; 
            cursor: pointer;
		}

		/* CAPTION STYLES */
		.design-caption {
			font-size: 0.7rem;
			margin: 0;
			color: #cccccc;
			line-height: 1.4;
			border-left: 2px solid #ff3b4e;
			padding-left: 10px;
		}

		.lightbox-caption {
            position: fixed;
            bottom: 12vh;
            left: 50%;
            transform: translateX(-50%);
            background: #000000;     /* Pure Black */
            color: #ffffff;
            padding: 12px 24px;
            font-weight: 700;
            font-size: 1rem;
            border: 2px solid #000000; /* Kills the grey shadow */
            border-radius: 4px;
            z-index: 3001;
            text-align: center;
            max-width: 80%;
            pointer-events: none;
		}
		/* Forces the spawned video to stay inside its specific box */
		.video-preview-container {
			position: relative !important; 
		}
		.zoom-2x { transform: scale(2); }   
		.zoom-1-5x { transform: scale(1.5); } 
		.zoom-1-2x { transform: scale(1.2); }  
		.zoom-0.5x { transform: scale(0.5); }
		.zoom-0.25x { transform: scale(0.25); }
		.zoom-0.1x { transform: scale(0.1); }
		
        .accent { color: #ff3b4e; text-decoration: none; font-weight: 700; }
    </style>
</head>
<body>

    <header>
        <h1>AMAR MAKRUF</h1>
    </header>

    <nav>
        <a href="CV.pdf" target="_blank" class="resume-cta">RESUME</a>
        <a href="#games">GAMES</a>
        <div class="dropdown">
            <div class="dropdown-trigger">ART ▾</div>
            <div class="dropdown-content">
                <a href="#level-art">Levels & Environments</a>
                <a href="#game-art">Character Sprites</a>
                <a href="#art">Illustration</a>
                <a href="#animation">Animation</a>
            </div>
        </div>
        <a href="#contact">CONTACT</a>
    </nav>

    <div class="wrapper">
		<h2 id="games">Gameplay Showcase</h2>
		<div class="games-video"> 
            <div class="video-container">
				<div class="video-overlay-text">Spare `Em Up Full Playthrough</div>
				<iframe width="100%" height="100%" src="https://www.youtube.com/embed/764jojmIdPM" frameborder="0" allowfullscreen></iframe>
			</div>
			<div class="video-container">
				<div class="video-overlay-text">Mechanics Preview</div>
				<iframe width="100%" height="100%" src="https://www.youtube.com/embed/764jojmIdPM" frameborder="0" allowfullscreen></iframe>
			</div>

            <div class="video-container video-preview-container" data-video-src="game-art/MoM.webm" onclick="openLightbox(this.dataset.videoSrc)">
				<div class="video-overlay-text">Webm Test</div>
                <img src="game-art/MoM.png" loading="lazy" style="width:100%; height:100%; object-fit:cover; display:block;">
			</div>
		</div>

		<h2 id="level-art">Levels & Environments</h2>
        <div class="game-gallery">
			<div class="gallery-card">
				<img src="game-art/cave end.png" data-caption="Using high-contrast lighting to guide player toward the exit." loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom, this.dataset.caption)">
				<p class="design-caption"><strong>Core Loop:</strong> Vertical traversal section utilizing moving platforms.</p>
			</div>
            <div class="gallery-card">
				<img src="game-art/deltafuribg.png" data-caption="Guiding the player's eye using atmospheric perspective and contrasting neon hues." loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom, this.dataset.caption)">
				<p class="design-caption"><strong>Atmosphere:</strong> High-contrast skyline to emphasize vast scale.</p>
			</div>
            <div class="gallery-card">
				<img src="game-art/buildingsilhrun.png" data-caption="Layered parallax elements designed to enhance the feeling of speed during traversal." loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom, this.dataset.caption)">
				<p class="design-caption"><strong>Parallax Flow:</strong> Silhouette layering for fast-paced movement.</p>
			</div>
            <div class="gallery-card">
				<img src="game-art/spinelbg.png" data-caption="Using monolithic structures to dwarf the player character and instill tension." loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom, this.dataset.caption)">
				<p class="design-caption"><strong>Scale Focus:</strong> Monolithic background elements for boss arenas.</p>
			</div>
            <div class="gallery-card">
				<img src="game-art/hkbg.png" data-caption="Utilizing muted mid-tones to ensure foreground level collision remains readable." loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom, this.dataset.caption)">
				<p class="design-caption"><strong>Visual Hierarchy:</strong> Muted backgrounds to support foreground clarity.</p>
			</div>
            <div class="gallery-card">
				<img src="game-art/vskrisbg.png" data-caption="Implementing aggressive color palettes to signal high-danger combat zones." loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom, this.dataset.caption)">
				<p class="design-caption"><strong>Combat Signposting:</strong> Aggressive color schemes for danger zones.</p>
			</div>
        </div>

		<h2 id="game-art">Character Sprites</h2>
        <div class="game-gallery">
			<div class="image-box">
				<img src="game-art/circle no logo.png" data-zoom="1.5" class="zoom-2x" style="transform-origin: 60% 50%;" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)"> 
            </div>
			<div class="image-box">
				<img src="game-art/zoharfaces.png" data-zoom="1.5" class="zoom-0.25x" style="transform-origin: 50% 50%;" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)"> 
            </div>
			<div class="image-box">
			    <img src="game-art/karma_special.png" data-zoom="0.5" class="zoom-0.1x" onmouseover="this.src='game-art/karma_special.gif#' + Math.random();" onmouseout="this.src='game-art/karma_special.png'" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)"> 
            </div>
			<div class="image-box">
			    <img src="game-art/echo_idle.png" data-zoom="0.5" class="zoom-0.1x" onmouseover="this.src='game-art/echo_idle.gif#' + Math.random();" onmouseout="this.src='game-art/echo_idle.png'" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)"> 
            </div>

            <div class="video-preview-container image-box" data-video-src="game-art/MoM.webm" onclick="openLightbox(this.dataset.videoSrc)">
                <img src="game-art/MoM.png" loading="lazy" style="width:100%; height:100%; object-fit:cover; display:block;">
            </div>

 			<img src="game-art/Spin.png" onmouseover="this.src='game-art/Spin.gif#' + Math.random();" onmouseout="this.src='game-art/Spin.png'" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
			<img src="game-art/Zohar Fire Down.png" onmouseover="this.src='game-art/Zohar Fire Down.gif#' + Math.random();" onmouseout="this.src='game-art/Zohar Fire Down.png'" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
			<img src="game-art/Zohar Switch Red.png" onmouseover="this.src='game-art/Zohar Switch Red.gif#' + Math.random();" onmouseout="this.src='game-art/Zohar Switch Red.png'" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
			<img src="game-art/Fight Double Slash.png" onmouseover="this.src='game-art/Fight Double Slash.gif#' + Math.random();" onmouseout="this.src='game-art/Fight Double Slash.png'" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
			<img src="game-art/Fight Volley Slash.png" onmouseover="this.src='game-art/Fight Volley Slash.gif#' + Math.random();" onmouseout="this.src='game-art/Fight Volley Slash.png'" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
        </div>

        <h2 id="art">Illustration</h2>
        <div class="gallery">
            <img src="art/skykrill_HD.png" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
            <img src="art/ffxivultima.png" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
            <img src="art/zrdespair.png" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
            <img src="art/dricecreamworld.png" style="object-position: right center" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
            <img src="art/comm0184.png" style="object-position: 70% 50%;" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
            <img src="art/drcrossroad.png" style="object-position: 35% 50%;" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
            <img src="art/drfireworks.png" style="object-position: 15% 50%;" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
            <img src="art/radgunxiga.png" style="object-position: 35% 50%;" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
            <img src="art/rainworldsand.png" style="object-position: 60% 50%;" loading="lazy" onclick="openLightbox(this.src, this.dataset.zoom)">
        </div>  

		<h2 id="animation">Animation</h2>
		<div class="games-video"> 
            <div class="video-container video-preview-container" data-video-src="animation/skywebm.mp4" onclick="openLightbox(this.dataset.videoSrc, 1)">
                <img src="animation/skywebm.png" loading="lazy" style="width:100%; height:100%; object-fit:contain; display:block;">
			</div>
			<div class="video-container video-preview-container" data-video-src="animation/peace.mp4" onclick="openLightbox(this.dataset.videoSrc, 0.8)">
                <img src="animation/peace.png" loading="lazy" style="width:100%; height:100%; object-fit:contain; display:block;">
			</div>
			<div class="video-container video-preview-container" data-video-src="animation/choc.mp4" onclick="openLightbox(this.dataset.videoSrc, 0.8)">
                <img src="animation/choc.png" loading="lazy" style="width:100%; height:100%; object-fit:contain; display:block;">
			</div>
			<div class="video-container video-preview-container" data-video-src="animation/wiggle.mp4" onclick="openLightbox(this.dataset.videoSrc, 0.8)">
                <img src="animation/wiggle.png" loading="lazy" style="width:100%; height:100%; object-fit:contain; display:block;">
			</div>
		</div>

        <h2 id="contact">Contact</h2>
        <p>Surabaya, Indonesia | <a href="mailto:aamakuruu@gmail.com" class="accent">aamakuruu@gmail.com</a></p>
        <p>
            <a href="https://aamakuruu.itch.io" class="accent">ITCH.IO</a> | 
            <a href="https://x.com/aamakuruu" class="accent">TWITTER</a> |
            <a href="https://youtube.com/@aamakuruu" class="accent">YOUTUBE</a> 
        </p>

        <footer>© 2026 AMAR MAKRUF // PORTFOLIO</footer>
    </div>

    <div id="lightbox">
        <div id="lightbox-close" class="close-lightbox" title="Close">&times;</div>
        <div id="lightbox-container" class="lightbox-container"></div>
    </div>

    <script>
		function closeLightbox() {
			const lightbox = document.getElementById('lightbox');
            const container = document.getElementById('lightbox-container');
			
			const video = container.querySelector('video');
			if (video) {
				video.pause();
				video.src = ""; 
				video.load();   
			}

			const existingCaption = lightbox.querySelector('.lightbox-caption');
			if (existingCaption) existingCaption.remove();

			document.body.style.overflow = 'auto';
			lightbox.style.display = 'none';
            lightbox.classList.remove('has-caption'); // Reset dynamic layout
			container.innerHTML = ''; 
			handleScroll();
		}

		function openLightbox(src, customZoom, captionText) {
			const lightbox = document.getElementById('lightbox');
            const container = document.getElementById('lightbox-container');
			const isVideo = src.endsWith('.webm') || src.endsWith('.mp4');

			document.body.style.overflow = 'hidden'; 
			container.innerHTML = ''; 
            container.style.transform = 'scale(1)'; 

			const existingCaption = lightbox.querySelector('.lightbox-caption');
			if (existingCaption) existingCaption.remove();
            lightbox.classList.remove('has-caption');

			let content = isVideo ? document.createElement('video') : document.createElement('img');
			content.src = src;
			
            if (isVideo) {
				content.autoplay = true;
				content.loop = true;
				content.controls = true;
			}
			
			if (customZoom) { container.style.transform = `scale(${customZoom})`; }
			
			if (captionText) {
				const cap = document.createElement('div');
				cap.className = 'lightbox-caption';
				cap.innerText = captionText;
				lightbox.appendChild(cap); 
                lightbox.classList.add('has-caption'); // Shift layout UP
			}

			if (src.includes('game-art') || src.includes('pixel') || src.includes('skywebm')) {
				content.classList.add('pixel-upscale');
			}

			container.appendChild(content);
			lightbox.style.display = 'flex';
			document.getElementById("jumpToTop").style.display = "none"; 
		}

		document.getElementById('lightbox').addEventListener('click', function() {
			closeLightbox();
		});

		document.addEventListener('keydown', function(e) {
			if (e.key === "Escape") closeLightbox();
		});

		function handleScroll() {
			let btn = document.getElementById("jumpToTop");
			let scrollPos = window.scrollY || window.pageYOffset || document.documentElement.scrollTop;

			if (scrollPos > 300) {
				btn.style.setProperty("display", "block", "important");
			} else {
				btn.style.display = "none";
			}
		}

		window.addEventListener('scroll', handleScroll);
		window.addEventListener('load', handleScroll);

		function scrollToTop() {
			window.scrollTo({top: 0, behavior: 'auto'});
		}
		
		// THE ZERO-FLICKER HOVER LOGIC
		document.querySelectorAll('.video-preview-container').forEach(container => {
			container.addEventListener('mouseenter', () => {
				const videoSrc = container.getAttribute('data-video-src');
				if(!videoSrc) return;
				
				// Create the video element on demand
				const video = document.createElement('video');
				video.src = videoSrc;
				video.muted = true;
				video.loop = true;
				video.playsInline = true;
				video.autoplay = true; 
				
				// Style it to cover the poster perfectly
				video.style.position = 'absolute';
				video.style.top = '0';
				video.style.left = '0';
				video.style.width = '100%';
				video.style.height = '100%';
				video.style.objectFit = 'contain'; 
				video.style.zIndex = '5';
				
				container.appendChild(video);
				
				// Start playback
				const playPromise = video.play();
				if (playPromise !== undefined) {
					playPromise.then(_ => {}).catch(error => {
						console.log("Autoplay blocked or interrupted");
					});
				}
			});

			container.addEventListener('mouseleave', () => {
				const video = container.querySelector('video');
				if (video) {
					video.pause();
					video.remove(); // Instantly destroys the video and reveals the poster
				}
			});
		});
		
		document.querySelectorAll('.game-gallery img[src$=\".gif\"]').forEach(img => {
			const originalPath = img.src;
			img.addEventListener('mouseenter', function() {
				const tempImg = new Image();
				const newSrc = originalPath + '#' + Date.now();
				tempImg.src = newSrc;
				tempImg.decode().then(() => { this.src = newSrc; }).catch(() => { this.src = newSrc; });
			});
		});
    </script>
	<button onclick="scrollToTop()" id="jumpToTop" title="Go to top">Top ▴</button>
</body>
</html>